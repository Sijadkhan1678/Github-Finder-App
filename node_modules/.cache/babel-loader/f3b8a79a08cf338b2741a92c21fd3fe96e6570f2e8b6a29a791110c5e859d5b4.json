{"ast":null,"code":"import _regeneratorRuntime from\"/workspaces/Github-Finder-App/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspaces/Github-Finder-App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspaces/Github-Finder-App/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useReducer}from'react';import axios from'axios';import GithubContext from'./githubContext';import GithubReducer from'./githubReducer';import{SEARCH_USERS,SET_LOADING,CLEAR_USERS,GET_USER,GET_REPOS}from'../types';import{jsx as _jsx}from\"react/jsx-runtime\";var githubClientId;var githubClientSecret;if(process.env.NODE_ENV!=='production'){githubClientId=process.env.REACT_APP_GITHUB_CLIENT_ID;githubClientSecret=process.env.REACT_APP_GITHUB_CLIENT_SECRET;}else{githubClientId=process.env.GITHUB_CLIENT_ID;githubClientSecret=process.env.GITHUB_CLIENT_SECRET;}var GithubState=function GithubState(props){var initialState={users:[],user:{},repos:[],loading:false};var _useReducer=useReducer(GithubReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Search Users\nvar searchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(text){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading();_context.next=3;return axios.get(\"https://api.github.com/search/users?q=\".concat(text,\"&client_id=\").concat(githubClientId,\"&client_secret=\").concat(githubClientSecret));case 3:res=_context.sent;dispatch({type:SEARCH_USERS,payload:res.data.items});case 5:case\"end\":return _context.stop();}}},_callee);}));return function searchUsers(_x){return _ref.apply(this,arguments);};}();// Get User\nvar getUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(username){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading();_context2.next=3;return axios.get(\"https://api.github.com/users/\".concat(username,\"?client_id=\").concat(githubClientId,\"&client_secret=\").concat(githubClientSecret));case 3:res=_context2.sent;dispatch({type:GET_USER,payload:res.data});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getUser(_x2){return _ref2.apply(this,arguments);};}();// Get Repos\nvar getUserRepos=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(username){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoading();_context3.next=3;return axios.get(\"https://api.github.com/users/\".concat(username,\"/repos?per_page=5&sort=created:asc&client_id=\").concat(githubClientId,\"&client_secret=\").concat(githubClientSecret));case 3:res=_context3.sent;dispatch({type:GET_REPOS,payload:res.data});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function getUserRepos(_x3){return _ref3.apply(this,arguments);};}();// Clear Users\nvar clearUsers=function clearUsers(){return dispatch({type:CLEAR_USERS});};// Set Loading\nvar setLoading=function setLoading(){return dispatch({type:SET_LOADING});};return/*#__PURE__*/_jsx(GithubContext.Provider,{value:{users:state.users,user:state.user,repos:state.repos,loading:state.loading,searchUsers:searchUsers,clearUsers:clearUsers,getUser:getUser,getUserRepos:getUserRepos},children:props.children});};export default GithubState;","map":{"version":3,"names":["React","useReducer","axios","GithubContext","GithubReducer","SEARCH_USERS","SET_LOADING","CLEAR_USERS","GET_USER","GET_REPOS","githubClientId","githubClientSecret","process","env","NODE_ENV","REACT_APP_GITHUB_CLIENT_ID","REACT_APP_GITHUB_CLIENT_SECRET","GITHUB_CLIENT_ID","GITHUB_CLIENT_SECRET","GithubState","props","initialState","users","user","repos","loading","state","dispatch","searchUsers","text","setLoading","get","res","type","payload","data","items","getUser","username","getUserRepos","clearUsers","children"],"sources":["/workspaces/Github-Finder-App/src/context/github/githubState.js"],"sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport GithubContext from './githubContext';\nimport GithubReducer from './githubReducer';\nimport {\n  SEARCH_USERS,\n  SET_LOADING,\n  CLEAR_USERS,\n  GET_USER,\n  GET_REPOS,\n} from '../types';\n\nlet githubClientId;\nlet githubClientSecret;\n\nif (process.env.NODE_ENV !== 'production') {\n  githubClientId = process.env.REACT_APP_GITHUB_CLIENT_ID;\n  githubClientSecret = process.env.REACT_APP_GITHUB_CLIENT_SECRET;\n} else {\n  githubClientId = process.env.GITHUB_CLIENT_ID;\n  githubClientSecret = process.env.GITHUB_CLIENT_SECRET;\n}\n\nconst GithubState = (props) => {\n  const initialState = {\n    users: [],\n    user: {},\n    repos: [],\n    loading: false,\n  };\n\n  const [state, dispatch] = useReducer(GithubReducer, initialState);\n\n  // Search Users\n  const searchUsers = async (text) => {\n    setLoading();\n    const res = await axios.get(\n      `https://api.github.com/search/users?q=${text}&client_id=${githubClientId}&client_secret=${githubClientSecret}`\n    );\n    dispatch({\n      type: SEARCH_USERS,\n      payload: res.data.items,\n    });\n  };\n\n  // Get User\n  const getUser = async (username) => {\n    setLoading();\n    const res = await axios.get(\n      `https://api.github.com/users/${username}?client_id=${githubClientId}&client_secret=${githubClientSecret}`\n    );\n    dispatch({\n      type: GET_USER,\n      payload: res.data,\n    });\n  };\n\n  // Get Repos\n  const getUserRepos = async (username) => {\n    setLoading();\n    const res = await axios.get(\n      `https://api.github.com/users/${username}/repos?per_page=5&sort=created:asc&client_id=${githubClientId}&client_secret=${githubClientSecret}`\n    );\n    dispatch({\n      type: GET_REPOS,\n      payload: res.data,\n    });\n  };\n\n  // Clear Users\n  const clearUsers = () => dispatch({ type: CLEAR_USERS });\n\n  // Set Loading\n  const setLoading = () => dispatch({ type: SET_LOADING });\n\n  return (\n    <GithubContext.Provider\n      value={{\n        users: state.users,\n        user: state.user,\n        repos: state.repos,\n        loading: state.loading,\n        searchUsers,\n        clearUsers,\n        getUser,\n        getUserRepos,\n      }}\n    >\n      {props.children}\n    </GithubContext.Provider>\n  );\n};\n\nexport default GithubState;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}